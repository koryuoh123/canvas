{"version":3,"sources":["main.js"],"names":["$","document","ready","farbtastic","bind","toggle","trigger","css","ctx","strokeStyle","lineWidth","current","on","e","value","canvas","getElementById","width","documentElement","clientWidth","height","clientHeight","getContext","painting","fillStyle","lineCap","last","isTouchDevice","body","addEventListener","preventDefault","ontouchstart","x","touches","clientX","y","clientY","ontouchmove","beginPath","moveTo","lineTo","stroke","onmousedown","onmouseup","onmousemove"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["\r\n\r\n\r\n$(document).ready(function () {\r\n  $(\"#colorpicker\").farbtastic(\"#color\");\r\n});\r\n$(\"#color\").bind(\"click\", function () {\r\n  $(\".picker\").toggle(function () {\r\n    $(\"#canvas\").trigger(\"e\", $(\"#color\").css(\"background-color\"));\r\n  });\r\n});\r\n$('#remove').bind(\"click\", function () {\r\n    ctx.strokeStyle = 'white';\r\n    ctx.lineWidth = 10;\r\n})\r\n$('#pen').bind(\"click\", function () {\r\n    ctx.strokeStyle = current;\r\n    ctx.lineWidth = 4;\r\n})\r\n\r\n$(\"#canvas\").on(\"e\", function (e, value) {\r\n  ctx.strokeStyle = value;\r\n  current = value;\r\n  ctx.lineWidth = 4;\r\n});\r\n//画线\r\ncanvas = document.getElementById(\"canvas\");\r\ncanvas.width = document.documentElement.clientWidth;\r\ncanvas.height = document.documentElement.clientHeight;\r\nlet ctx = canvas.getContext(\"2d\");\r\nlet painting = false; //初始状态\r\nlet current=\"\";\r\nctx.fillStyle = \"black\";\r\nctx.strokeStyle = \"none\"; //画笔颜色\r\nctx.lineCap = \"round\";\r\nctx.lineWidth = \"4\";\r\n\r\nlet last; //记录点\r\nvar isTouchDevice = \"ontouchstart\" in document.documentElement;\r\n\r\nif (isTouchDevice) {\r\n  //···········手机浏览器··········\r\n  document.body.addEventListener('touchmove' , function(e){\r\n    e.preventDefault();\r\n})\r\n  canvas.ontouchstart = (e) => {\r\n    let x = e.touches[0].clientX;\r\n    let y = e.touches[0].clientY;\r\n    last = [x, y];\r\n  };\r\n  canvas.ontouchmove = (e) => {\r\n    ctx.beginPath();\r\n    ctx.moveTo(last[0], last[1]);\r\n    let x = e.touches[0].clientX;\r\n    let y = e.touches[0].clientY;\r\n    ctx.lineTo(x, y);\r\n\r\n    ctx.stroke();\r\n    last = [x, y];\r\n  };\r\n} else {\r\n  //···········电脑浏览器············\r\n  canvas.onmousedown = (e) => {\r\n    painting = true;\r\n    last = [e.clientX, e.clientY];\r\n  };\r\n  canvas.onmouseup = (y) => {\r\n    painting = false;\r\n  };\r\n  canvas.onmousemove = (e) => {\r\n    if (painting === true) {\r\n      //开始画\r\n      ctx.beginPath();\r\n      ctx.moveTo(last[(0, 0)], last[(0, 1)]);\r\n      ctx.lineTo(e.clientX, e.clientY);\r\n      ctx.stroke();\r\n      ctx.lineCap = \"round\";\r\n      last = [e.clientX, e.clientY];\r\n    }\r\n  };\r\n}\r\n"]}