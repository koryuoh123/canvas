{"version":3,"sources":["farbtastic.js"],"names":["jQuery","fn","farbtastic","callback","$","container","get","_farbtastic","fb","html","e","wheel","radius","square","width","navigator","appVersion","match","each","currentStyle","backgroundImage","image","substring","length","css","linkTo","unbind","updateValue","color","bind","value","setColor","event","unpack","rgb","hsl","RGBToHSL","updateDisplay","setHSL","HSLToRGB","pack","widgetCoords","x","y","el","target","srcElement","reference","offsetX","pos","offsetY","mouseX","mouseY","offsetLeft","offsetTop","offsetParent","offset","undefined","absolutePosition","pageX","clientX","scrollLeft","pageY","clientY","scrollTop","mousedown","document","dragging","mousemove","mouseup","circleDrag","Math","max","abs","hue","atan2","sat","min","lum","angle","left","round","sin","top","cos","backgroundColor","call","r","tmp","g","b","toString","parseInt","m1","m2","h","s","l","hueToRGB","delta"],"mappings":"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","file":"farbtastic.63580bb3.js","sourceRoot":"..","sourcesContent":["/**\n * Farbtastic Color Picker 1.2\n * Â© 2008 Steven Wittens\n *\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation; either version 2 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n */\n\njQuery.fn.farbtastic = function (callback) {\n  $.farbtastic(this, callback);\n  return this;\n};\n\njQuery.farbtastic = function (container, callback) {\n  var container = $(container).get(0);\n  return container.farbtastic || (container.farbtastic = new jQuery._farbtastic(container, callback));\n}\n\njQuery._farbtastic = function (container, callback) {\n  // Store farbtastic object\n  var fb = this;\n\n  // Insert markup\n  $(container).html('<div class=\"farbtastic\"><div class=\"color\"></div><div class=\"wheel\"></div><div class=\"overlay\"></div><div class=\"h-marker marker\"></div><div class=\"sl-marker marker\"></div></div>');\n  var e = $('.farbtastic', container);\n  fb.wheel = $('.wheel', container).get(0);\n  // Dimensions\n  fb.radius = 84;\n  fb.square = 100;\n  fb.width = 194;\n\n  // Fix background PNGs in IE6\n  if (navigator.appVersion.match(/MSIE [0-6]\\./)) {\n    $('*', e).each(function () {\n      if (this.currentStyle.backgroundImage != 'none') {\n        var image = this.currentStyle.backgroundImage;\n        image = this.currentStyle.backgroundImage.substring(5, image.length - 2);\n        $(this).css({\n          'backgroundImage': 'none',\n          'filter': \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='\" + image + \"')\"\n        });\n      }\n    });\n  }\n\n  /**\n   * Link to the given element(s) or callback.\n   */\n  fb.linkTo = function (callback) {\n    // Unbind previous nodes\n    if (typeof fb.callback == 'object') {\n      $(fb.callback).unbind('keyup', fb.updateValue);\n    }\n\n    // Reset color\n    fb.color = null;\n\n    // Bind callback or elements\n    if (typeof callback == 'function') {\n      fb.callback = callback;\n    }\n    else if (typeof callback == 'object' || typeof callback == 'string') {\n      fb.callback = $(callback);\n      fb.callback.bind('keyup', fb.updateValue);\n      if (fb.callback.get(0).value) {\n        fb.setColor(fb.callback.get(0).value);\n      }\n    }\n    return this;\n  }\n  fb.updateValue = function (event) {\n    if (this.value && this.value != fb.color) {\n      fb.setColor(this.value);\n    }\n  }\n\n  /**\n   * Change color with HTML syntax #123456\n   */\n  fb.setColor = function (color) {\n    var unpack = fb.unpack(color);\n    if (fb.color != color && unpack) {\n      fb.color = color;\n      fb.rgb = unpack;\n      fb.hsl = fb.RGBToHSL(fb.rgb);\n      fb.updateDisplay();\n    }\n    return this;\n  }\n\n  /**\n   * Change color with HSL triplet [0..1, 0..1, 0..1]\n   */\n  fb.setHSL = function (hsl) {\n    fb.hsl = hsl;\n    fb.rgb = fb.HSLToRGB(hsl);\n    fb.color = fb.pack(fb.rgb);\n    fb.updateDisplay();\n    return this;\n  }\n\n  /////////////////////////////////////////////////////\n\n  /**\n   * Retrieve the coordinates of the given event relative to the center\n   * of the widget.\n   */\n  fb.widgetCoords = function (event) {\n    var x, y;\n    var el = event.target || event.srcElement;\n    var reference = fb.wheel;\n\n    if (typeof event.offsetX != 'undefined') {\n      // Use offset coordinates and find common offsetParent\n      var pos = { x: event.offsetX, y: event.offsetY };\n\n      // Send the coordinates upwards through the offsetParent chain.\n      var e = el;\n      while (e) {\n        e.mouseX = pos.x;\n        e.mouseY = pos.y;\n        pos.x += e.offsetLeft;\n        pos.y += e.offsetTop;\n        e = e.offsetParent;\n      }\n\n      // Look for the coordinates starting from the wheel widget.\n      var e = reference;\n      var offset = { x: 0, y: 0 }\n      while (e) {\n        if (typeof e.mouseX != 'undefined') {\n          x = e.mouseX - offset.x;\n          y = e.mouseY - offset.y;\n          break;\n        }\n        offset.x += e.offsetLeft;\n        offset.y += e.offsetTop;\n        e = e.offsetParent;\n      }\n\n      // Reset stored coordinates\n      e = el;\n      while (e) {\n        e.mouseX = undefined;\n        e.mouseY = undefined;\n        e = e.offsetParent;\n      }\n    }\n    else {\n      // Use absolute coordinates\n      var pos = fb.absolutePosition(reference);\n      x = (event.pageX || 0*(event.clientX + $('html').get(0).scrollLeft)) - pos.x;\n      y = (event.pageY || 0*(event.clientY + $('html').get(0).scrollTop)) - pos.y;\n    }\n    // Subtract distance to middle\n    return { x: x - fb.width / 2, y: y - fb.width / 2 };\n  }\n\n  /**\n   * Mousedown handler\n   */\n  fb.mousedown = function (event) {\n    // Capture mouse\n    if (!document.dragging) {\n      $(document).bind('mousemove', fb.mousemove).bind('mouseup', fb.mouseup);\n      document.dragging = true;\n    }\n\n    // Check which area is being dragged\n    var pos = fb.widgetCoords(event);\n    fb.circleDrag = Math.max(Math.abs(pos.x), Math.abs(pos.y)) * 2 > fb.square;\n\n    // Process\n    fb.mousemove(event);\n    return false;\n  }\n\n  /**\n   * Mousemove handler\n   */\n  fb.mousemove = function (event) {\n    // Get coordinates relative to color picker center\n    var pos = fb.widgetCoords(event);\n\n    // Set new HSL parameters\n    if (fb.circleDrag) {\n      var hue = Math.atan2(pos.x, -pos.y) / 6.28;\n      if (hue < 0) hue += 1;\n      fb.setHSL([hue, fb.hsl[1], fb.hsl[2]]);\n    }\n    else {\n      var sat = Math.max(0, Math.min(1, -(pos.x / fb.square) + .5));\n      var lum = Math.max(0, Math.min(1, -(pos.y / fb.square) + .5));\n      fb.setHSL([fb.hsl[0], sat, lum]);\n    }\n    return false;\n  }\n\n  /**\n   * Mouseup handler\n   */\n  fb.mouseup = function () {\n    // Uncapture mouse\n    $(document).unbind('mousemove', fb.mousemove);\n    $(document).unbind('mouseup', fb.mouseup);\n    document.dragging = false;\n  }\n\n  /**\n   * Update the markers and styles\n   */\n  fb.updateDisplay = function () {\n    // Markers\n    var angle = fb.hsl[0] * 6.28;\n    $('.h-marker', e).css({\n      left: Math.round(Math.sin(angle) * fb.radius + fb.width / 2) + 'px',\n      top: Math.round(-Math.cos(angle) * fb.radius + fb.width / 2) + 'px'\n    });\n\n    $('.sl-marker', e).css({\n      left: Math.round(fb.square * (.5 - fb.hsl[1]) + fb.width / 2) + 'px',\n      top: Math.round(fb.square * (.5 - fb.hsl[2]) + fb.width / 2) + 'px'\n    });\n\n    // Saturation/Luminance gradient\n    $('.color', e).css('backgroundColor', fb.pack(fb.HSLToRGB([fb.hsl[0], 1, 0.5])));\n\n    // Linked elements or callback\n    if (typeof fb.callback == 'object') {\n      // Set background/foreground color\n      $(fb.callback).css({\n        backgroundColor: fb.color,\n        color: fb.hsl[2] > 0.5 ? '#000' : '#fff'\n      });\n\n      // Change linked value\n      $(fb.callback).each(function() {\n        if (this.value && this.value != fb.color) {\n          this.value = fb.color;\n        }\n      });\n    }\n    else if (typeof fb.callback == 'function') {\n      fb.callback.call(fb, fb.color);\n    }\n  }\n\n  /**\n   * Get absolute position of element\n   */\n  fb.absolutePosition = function (el) {\n    var r = { x: el.offsetLeft, y: el.offsetTop };\n    // Resolve relative to offsetParent\n    if (el.offsetParent) {\n      var tmp = fb.absolutePosition(el.offsetParent);\n      r.x += tmp.x;\n      r.y += tmp.y;\n    }\n    return r;\n  };\n\n  /* Various color utility functions */\n  fb.pack = function (rgb) {\n    var r = Math.round(rgb[0] * 255);\n    var g = Math.round(rgb[1] * 255);\n    var b = Math.round(rgb[2] * 255);\n    return '#' + (r < 16 ? '0' : '') + r.toString(16) +\n           (g < 16 ? '0' : '') + g.toString(16) +\n           (b < 16 ? '0' : '') + b.toString(16);\n  }\n\n  fb.unpack = function (color) {\n    if (color.length == 7) {\n      return [parseInt('0x' + color.substring(1, 3)) / 255,\n        parseInt('0x' + color.substring(3, 5)) / 255,\n        parseInt('0x' + color.substring(5, 7)) / 255];\n    }\n    else if (color.length == 4) {\n      return [parseInt('0x' + color.substring(1, 2)) / 15,\n        parseInt('0x' + color.substring(2, 3)) / 15,\n        parseInt('0x' + color.substring(3, 4)) / 15];\n    }\n  }\n\n  fb.HSLToRGB = function (hsl) {\n    var m1, m2, r, g, b;\n    var h = hsl[0], s = hsl[1], l = hsl[2];\n    m2 = (l <= 0.5) ? l * (s + 1) : l + s - l*s;\n    m1 = l * 2 - m2;\n    return [this.hueToRGB(m1, m2, h+0.33333),\n        this.hueToRGB(m1, m2, h),\n        this.hueToRGB(m1, m2, h-0.33333)];\n  }\n\n  fb.hueToRGB = function (m1, m2, h) {\n    h = (h < 0) ? h + 1 : ((h > 1) ? h - 1 : h);\n    if (h * 6 < 1) return m1 + (m2 - m1) * h * 6;\n    if (h * 2 < 1) return m2;\n    if (h * 3 < 2) return m1 + (m2 - m1) * (0.66666 - h) * 6;\n    return m1;\n  }\n\n  fb.RGBToHSL = function (rgb) {\n    var min, max, delta, h, s, l;\n    var r = rgb[0], g = rgb[1], b = rgb[2];\n    min = Math.min(r, Math.min(g, b));\n    max = Math.max(r, Math.max(g, b));\n    delta = max - min;\n    l = (min + max) / 2;\n    s = 0;\n    if (l > 0 && l < 1) {\n      s = delta / (l < 0.5 ? (2 * l) : (2 - 2 * l));\n    }\n    h = 0;\n    if (delta > 0) {\n      if (max == r && max != g) h += (g - b) / delta;\n      if (max == g && max != b) h += (2 + (b - r) / delta);\n      if (max == b && max != r) h += (4 + (r - g) / delta);\n      h /= 6;\n    }\n    return [h, s, l];\n  }\n\n  // Install mousedown handler (the others are set on the document on-demand)\n  $('*', e).mousedown(fb.mousedown);\n\n    // Init color\n  fb.setColor('#000000');\n\n  // Set linked elements/callback\n  if (callback) {\n    fb.linkTo(callback);\n  }\n}"]}